System.register(["./gist-vendor.js"],(function(){"use strict";var e,t,n;return{setters:[function(o){e=o.o,t=o.q,n=o.f}],execute:function(){function o(e){t(document,".js-gist-dropzone").classList.remove("d-none"),e.stopPropagation(),e.preventDefault()}function r(e){const t=e.target;t instanceof Element&&t.classList.contains("js-gist-dropzone")&&t.classList.add("d-none")}function s(e){!async function(e){const t=e.dataTransfer;if(t)for(const r of t.files){n({category:"Interaction",action:"File Drop",label:r.type});try{const t=await i(r);e.target.dispatchEvent(new CustomEvent("gist:filedrop",{bubbles:!0,detail:t}))}catch(o){}}}(e),t(document,".js-gist-dropzone").classList.add("d-none"),e.stopPropagation(),e.preventDefault()}function i(e){return new Promise((function(t,n){const o=new FileReader;o.onload=function(){if("string"!=typeof o.result)throw new Error("invariant: app/assets/modules/github/gist/drag-drop.ts:63");const r=o.result;r&&!/\0/.test(r)?t({file:e,data:r}):n(new Error("invalid file"))},o.readAsText(e)}))}e(".js-gist-dropzone",{add(){const e=document.body;e.addEventListener("dragenter",o),e.addEventListener("dragleave",r),e.addEventListener("dragover",o),e.addEventListener("drop",s)},remove(){const e=document.body;e.removeEventListener("dragenter",o),e.removeEventListener("dragleave",r),e.removeEventListener("dragover",o),e.removeEventListener("drop",s)}})}}}));
//# sourceMappingURL=drag-drop-b61a30cb.js.map
