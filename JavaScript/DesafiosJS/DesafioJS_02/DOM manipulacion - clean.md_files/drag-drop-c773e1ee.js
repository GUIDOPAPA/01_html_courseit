System.register(["./gist-vendor.js"],(function(){"use strict";var e,t,n;return{setters:[function(r){e=r.o,t=r.q,n=r.f}],execute:function(){function r(e){t(document,".js-gist-dropzone").classList.remove("d-none"),e.stopPropagation(),e.preventDefault()}function o(e){const t=e.target;t instanceof Element&&t.classList.contains("js-gist-dropzone")&&t.classList.add("d-none")}function s(e){!async function(e){const t=e.dataTransfer;if(t)for(const o of t.files){n({category:"Interaction",action:"File Drop",label:o.type});try{const t=await i(o);e.target.dispatchEvent(new CustomEvent("gist:filedrop",{bubbles:!0,detail:t}))}catch(r){}}}(e),t(document,".js-gist-dropzone").classList.add("d-none"),e.stopPropagation(),e.preventDefault()}function i(e){return new Promise((function(t,n){const r=new FileReader;r.onload=function(){if("string"!=typeof r.result)throw new Error("invariant: app/assets/modules/github/gist/drag-drop.ts:65");const o=r.result;o&&!/\0/.test(o)?t({file:e,data:o}):n(new Error("invalid file"))},r.readAsText(e)}))}e(".js-gist-dropzone",{add(){const e=document.body;if(!e)throw new Error("invariant: app/assets/modules/github/gist/drag-drop.ts:46");e.addEventListener("dragenter",r),e.addEventListener("dragleave",o),e.addEventListener("dragover",r),e.addEventListener("drop",s)},remove(){const e=document.body;if(!e)throw new Error("invariant: app/assets/modules/github/gist/drag-drop.ts:54");e.removeEventListener("dragenter",r),e.removeEventListener("dragleave",o),e.removeEventListener("dragover",r),e.removeEventListener("drop",s)}})}}}));
//# sourceMappingURL=drag-drop-a9d45a96.js.map
